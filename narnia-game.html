<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Narnia Adventure Game</title>
  <style>
    body {
      background: linear-gradient(120deg, #a06bff 0%, #fff 100%);
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }
    h1 {
      color: #fff;
      text-shadow: 0 2px 8px #a06bff88;
      margin-top: 32px;
      font-size: 2.2em;
    }
    #gameArea {
      background: #24292e;
      border: 4px solid #a06bff;
      border-radius: 18px;
      width: 480px;
      height: 320px;
      margin: 32px 0 0 0;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 32px #a06bff33;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #player {
      position: absolute;
      width: 32px;
      height: 32px;
      background: #ffd93d;
      border-radius: 8px;
      border: 2px solid #333;
      left: 20px;
      top: 140px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5em;
      color: #333;
      transition: left 0.08s, top 0.08s;
    }
    .tree {
      position: absolute;
      width: 36px;
      height: 48px;
      background: #4caf50;
      border-radius: 0 0 18px 18px;
      left: 200px;
      top: 80px;
      box-shadow: 0 2px 8px #3333;
      border: 2px solid #388e3c;
    }
    .portal {
      position: absolute;
      width: 40px;
      height: 60px;
      background: linear-gradient(120deg, #fff 0%, #a06bff 100%);
      border-radius: 12px;
      left: 400px;
      top: 120px;
      border: 3px solid #a06bff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2em;
      color: #a06bff;
      box-shadow: 0 2px 12px #a06bff44;
    }
    #instructions {
      margin-top: 18px;
      color: #333;
      background: #fff8;
      border-radius: 8px;
      padding: 10px 18px;
      font-size: 1.1em;
      box-shadow: 0 2px 8px #a06bff22;
    }
  </style>
</head>
<body>
  <h1>Narnia Adventure Game</h1>
  <div id="gameArea">
    <div id="player">ðŸ§’</div>
    <div class="tree" style="left: 120px; top: 60px;"></div>
    <div class="tree" style="left: 300px; top: 200px;"></div>
    <div class="portal">ðŸŒ€</div>
  </div>
  <div id="instructions">
    Use arrow keys to move. Reach the portal to win!<br>
    Avoid the trees.
  </div>
  <script>
    const player = document.getElementById('player');
    const portal = document.querySelector('.portal');
    const trees = Array.from(document.querySelectorAll('.tree'));
    const gameArea = document.getElementById('gameArea');
    let pos = { left: 20, top: 140 };
    const step = 16;
    function movePlayer(dx, dy) {
      let newLeft = pos.left + dx;
      let newTop = pos.top + dy;
      // Boundaries
      newLeft = Math.max(0, Math.min(448, newLeft));
      newTop = Math.max(0, Math.min(288, newTop));
      // Collision with trees
      for (const tree of trees) {
        const rect = tree.getBoundingClientRect();
        const playerRect = player.getBoundingClientRect();
        // Use gameArea as reference
        const treeLeft = tree.offsetLeft;
        const treeTop = tree.offsetTop;
        if (
          newLeft + 32 > treeLeft &&
          newLeft < treeLeft + 36 &&
          newTop + 32 > treeTop &&
          newTop < treeTop + 48
        ) {
          return; // Block move
        }
      }
      pos.left = newLeft;
      pos.top = newTop;
      player.style.left = pos.left + 'px';
      player.style.top = pos.top + 'px';
      checkPortal();
    }
    function checkPortal() {
      const portalLeft = portal.offsetLeft;
      const portalTop = portal.offsetTop;
      if (
        pos.left + 32 > portalLeft &&
        pos.left < portalLeft + 40 &&
        pos.top + 32 > portalTop &&
        pos.top < portalTop + 60
      ) {
        setTimeout(() => {
          alert('You found the portal to Narnia!');
          pos = { left: 20, top: 140 };
          player.style.left = pos.left + 'px';
          player.style.top = pos.top + 'px';
        }, 100);
      }
    }
    document.addEventListener('keydown', e => {
      if (e.key === 'ArrowLeft') movePlayer(-step, 0);
      if (e.key === 'ArrowRight') movePlayer(step, 0);
      if (e.key === 'ArrowUp') movePlayer(0, -step);
      if (e.key === 'ArrowDown') movePlayer(0, step);
    });
  </script>
</body>
</html>
